<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rate The Throne</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body ng-app="rateThroneApp" ng-controller="MainController">
  <div id="map"></div>
  <script type="text/ng-template" id="myModalContent.html">
    <h5 class="modal-title">{{blah}}</h5>
  </script>
  <script src="js/angular.min.js"></script>
  <script src="ui-bootstrap-custom-build/ui-bootstrap-custom-1.3.3.min.js"></script>
  <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.3.3.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD5G4Ayi5do4-xDcxY-C_kDjqllRidNZPw&libraries=places"></script>
  <script>
  var app = angular.module('rateThroneApp', ['ui.bootstrap']);

  var map;
  var infowindow;
  var atlanta = {lat: 33.748995, lng: -84.387982};
  var place;

  app.controller('ModalController', function($scope, place) {
    $scope.blah = place;
  });

  app.controller('MainController', function($scope, $uibModal) {
    var element = document.getElementById('map');
    var mapOptions = {
      center: atlanta,
      zoom: 15
    };
    map = new google.maps.Map(element, mapOptions);
    var marker = new google.maps.Marker({
      map: map,
      position: atlanta
    });
    google.maps.event.addListener(marker, 'click', function() {
      var modalInstance = $uibModal.open({
        // animation: $scope.animationsEnabled,
        templateUrl: 'myModalContent.html',
        controller: 'ModalController',
        size: 'lg',
        resolve: {
          place: function () {
            return "a place";
          }
        }
      });

      $scope.blah = 'WORKED';
      $scope.$apply();
    });
    $scope.blah = 'DIDNT WORK';

  });

  </script>
</body>
</html>
