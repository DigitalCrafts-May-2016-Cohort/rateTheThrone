<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="js/angular.min.js"></script>
    <script
   src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBq5kkjncU22Oc7RzCq26RpLI9aBMIRtWU"></script>
    <script>
    var app = angular.module('app', []);

    app.factory('someservice', function() {

      return {
        dosomething: function($scope) {
          var mapElm = document.getElementById('map');
          var map = new google.maps.Map(mapElm, {
            center: {lat: 33.7, lng: -84},
            zoom: 8
          });
          var marker = new google.maps.Marker({
            map: map,
            position: {lat: 33.7, lng: -84}
          });
          google.maps.event.addListener(marker, 'click', function() {
            $scope.greeting = 'Hello!';
            $scope.$apply();
          });
        }
      };
    });

    app.controller('Controller', function($scope, someservice) {
      someservice.dosomething($scope);
    });
    </script>
  </head>
  <body ng-app="app" ng-controller="Controller">
    {{ greeting }}
    <div id="map" style="height: 500px; width: 500px;"></div>
  </body>
</html>
